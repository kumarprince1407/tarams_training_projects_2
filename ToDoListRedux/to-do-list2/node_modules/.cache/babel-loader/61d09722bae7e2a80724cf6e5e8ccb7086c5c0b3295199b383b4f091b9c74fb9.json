{"ast":null,"code":"//actions.js\nimport axios from \"axios\";\nexport const addTask = task => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:3004/todolist\", task);\n    console.log(\"Server response:\", response.data);\n    dispatch({\n      type: \"ADD_TASK\",\n      payload: response.data\n    });\n  } catch (error) {\n    console.error(\"Error adding task:\", error);\n  }\n};\nexport const updateTask = (id, updatedTask) => async dispatch => {\n  try {\n    const response = await axios.patch(`http://localhost:3004/todolist/${id}`, updatedTask);\n    dispatch({\n      type: \"UPDATE_TASK\",\n      payload: {\n        id,\n        updatedTask: response.data\n      }\n    });\n  } catch (error) {\n    console.error(\"Error updating task:\", error);\n  }\n};\nexport const deleteTask = id => async dispatch => {\n  try {\n    await axios.delete(`http://localhost:3004/todolist/${id}`);\n    dispatch({\n      type: \"DELETE_TASK\",\n      payload: id\n    });\n  } catch (error) {\n    console.error(\"Error deleting task:\", error);\n  }\n};\nexport const toggleTaskStatus = id => async (dispatch, getState) => {\n  const currentState = getState();\n  const taskToUpdate = currentState.todolistData.find(task => task.id === id);\n  try {\n    const response = await axios.patch(`http://localhost:3004/todolist/${id}`, {\n      completed: !taskToUpdate.completed\n    });\n    dispatch({\n      type: \"TOGGLE_TASK_STATUS\",\n      payload: {\n        id,\n        updatedTask: response.data\n      }\n    });\n  } catch (error) {\n    console.error(\"Error toggling task status:\", error);\n  }\n};\n\n// export const fetchData = async () => {\n//   try {\n//     const response = await fetch(\"http://localhost:3002/todolist\"); //Updated URL\n//     const data = await response.json();\n//     console.log(\"Fetched data:\", data); // Add this line\n\n//     setToDoList(data);\n//     setNewItemCounter(data.length); //Set the newItemCounter based on the number of elements\n//   } catch (error) {\n//     console.log(\"Error fetching data:\", error);\n//   }\n// };","map":{"version":3,"names":["axios","addTask","task","dispatch","response","post","console","log","data","type","payload","error","updateTask","id","updatedTask","patch","deleteTask","delete","toggleTaskStatus","getState","currentState","taskToUpdate","todolistData","find","completed"],"sources":["/home/kumarprince1407/Desktop/React/Redux/ToDoListRedux/to-do-list2/src/redux/actions.js"],"sourcesContent":["//actions.js\nimport axios from \"axios\";\n\nexport const addTask = (task) => async (dispatch) => {\n  try {\n    const response = await axios.post(\"http://localhost:3004/todolist\", task);\n    console.log(\"Server response:\", response.data);\n    dispatch({\n      type: \"ADD_TASK\",\n      payload: response.data,\n    });\n  } catch (error) {\n    console.error(\"Error adding task:\", error);\n  }\n};\n\nexport const updateTask = (id, updatedTask) => async (dispatch) => {\n  try {\n    const response = await axios.patch(\n      `http://localhost:3004/todolist/${id}`,\n      updatedTask\n    );\n    dispatch({\n      type: \"UPDATE_TASK\",\n      payload: { id, updatedTask: response.data },\n    });\n  } catch (error) {\n    console.error(\"Error updating task:\", error);\n  }\n};\n\nexport const deleteTask = (id) => async (dispatch) => {\n  try {\n    await axios.delete(`http://localhost:3004/todolist/${id}`);\n    dispatch({\n      type: \"DELETE_TASK\",\n      payload: id,\n    });\n  } catch (error) {\n    console.error(\"Error deleting task:\", error);\n  }\n};\n\nexport const toggleTaskStatus = (id) => async (dispatch, getState) => {\n  const currentState = getState();\n  const taskToUpdate = currentState.todolistData.find((task) => task.id === id);\n\n  try {\n    const response = await axios.patch(`http://localhost:3004/todolist/${id}`, {\n      completed: !taskToUpdate.completed,\n    });\n    dispatch({\n      type: \"TOGGLE_TASK_STATUS\",\n      payload: { id, updatedTask: response.data },\n    });\n  } catch (error) {\n    console.error(\"Error toggling task status:\", error);\n  }\n};\n\n// export const fetchData = async () => {\n//   try {\n//     const response = await fetch(\"http://localhost:3002/todolist\"); //Updated URL\n//     const data = await response.json();\n//     console.log(\"Fetched data:\", data); // Add this line\n\n//     setToDoList(data);\n//     setNewItemCounter(data.length); //Set the newItemCounter based on the number of elements\n//   } catch (error) {\n//     console.log(\"Error fetching data:\", error);\n//   }\n// };\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,OAAO,GAAIC,IAAI,IAAK,MAAOC,QAAQ,IAAK;EACnD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,gCAAgC,EAAEH,IAAI,CAAC;IACzEI,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,QAAQ,CAACI,IAAI,CAAC;IAC9CL,QAAQ,CAAC;MACPM,IAAI,EAAE,UAAU;MAChBC,OAAO,EAAEN,QAAQ,CAACI;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;EAC5C;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAACC,EAAE,EAAEC,WAAW,KAAK,MAAOX,QAAQ,IAAK;EACjE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACe,KAAK,CAC/B,kCAAiCF,EAAG,EAAC,EACtCC,WACF,CAAC;IACDX,QAAQ,CAAC;MACPM,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAE;QAAEG,EAAE;QAAEC,WAAW,EAAEV,QAAQ,CAACI;MAAK;IAC5C,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AAED,OAAO,MAAMK,UAAU,GAAIH,EAAE,IAAK,MAAOV,QAAQ,IAAK;EACpD,IAAI;IACF,MAAMH,KAAK,CAACiB,MAAM,CAAE,kCAAiCJ,EAAG,EAAC,CAAC;IAC1DV,QAAQ,CAAC;MACPM,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAEG;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AAED,OAAO,MAAMO,gBAAgB,GAAIL,EAAE,IAAK,OAAOV,QAAQ,EAAEgB,QAAQ,KAAK;EACpE,MAAMC,YAAY,GAAGD,QAAQ,CAAC,CAAC;EAC/B,MAAME,YAAY,GAAGD,YAAY,CAACE,YAAY,CAACC,IAAI,CAAErB,IAAI,IAAKA,IAAI,CAACW,EAAE,KAAKA,EAAE,CAAC;EAE7E,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMJ,KAAK,CAACe,KAAK,CAAE,kCAAiCF,EAAG,EAAC,EAAE;MACzEW,SAAS,EAAE,CAACH,YAAY,CAACG;IAC3B,CAAC,CAAC;IACFrB,QAAQ,CAAC;MACPM,IAAI,EAAE,oBAAoB;MAC1BC,OAAO,EAAE;QAAEG,EAAE;QAAEC,WAAW,EAAEV,QAAQ,CAACI;MAAK;IAC5C,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;EACrD;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}